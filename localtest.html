<!doctype html>

<html>
    <head>
        <meta charset="utf-8">
        <title>Metaviz</title>
        <meta name="description" content="Metaviz">
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
        <meta http-equiv="Pragma" content="no-cache">
        <meta http-equiv="Expires" content="0">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <meta name="metaviz:agent:name" content="standalone">
        <meta name="metaviz:agent:client" content="browser">
        <meta name="metaviz:agent:server" content="">
        <meta name="metaviz:agent:data" content="local">
        <meta name="metaviz:agent:db" content="file">
        <meta name="metaviz:url:data" content="">
        <meta name="metaviz:url:sync" content="">
        <meta name="metaviz:url:media" content="">
        <meta name="metaviz:url:cmd" content="">
        <link rel="shortcut icon" type="image/svg" href="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iNTBtbSIKICAgaGVpZ2h0PSI1MG1tIgogICB2aWV3Qm94PSIwIDAgNTAgNTAiCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzgiCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTIuNCAoNWRhNjg5YzMxMywgMjAxOS0wMS0xNCkiCiAgIHNvZGlwb2RpOmRvY25hbWU9Im1ldGF2aXotc3lnbmV0LW1vbm8uc3ZnIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzMiIgLz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMS45Nzk4OTkiCiAgICAgaW5rc2NhcGU6Y3g9IjEyNi4yMjU5OCIKICAgICBpbmtzY2FwZTpjeT0iOTguNjgyOTMyIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJtbSIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJnMzcyMSIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxOTIwIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjEwMTciCiAgICAgaW5rc2NhcGU6d2luZG93LXg9Ii04IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItOCIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIgogICAgIHNob3dndWlkZXM9InRydWUiCiAgICAgaW5rc2NhcGU6Z3VpZGUtYmJveD0idHJ1ZSI+CiAgICA8c29kaXBvZGk6Z3VpZGUKICAgICAgIHBvc2l0aW9uPSItMC4xMDAyMjYwNyw0Ny45NzQ4OCIKICAgICAgIG9yaWVudGF0aW9uPSIwLDEiCiAgICAgICBpZD0iZ3VpZGUzNzkzIgogICAgICAgaW5rc2NhcGU6bG9ja2VkPSJmYWxzZSIgLz4KICAgIDxzb2RpcG9kaTpndWlkZQogICAgICAgcG9zaXRpb249IjIuMDA0NTIxNCwzMC4yMzQ4NjUiCiAgICAgICBvcmllbnRhdGlvbj0iMSwwIgogICAgICAgaWQ9Imd1aWRlMzc5NSIKICAgICAgIGlua3NjYXBlOmxvY2tlZD0iZmFsc2UiIC8+CiAgICA8c29kaXBvZGk6Z3VpZGUKICAgICAgIHBvc2l0aW9uPSIyNy4yNjE0OTIsMi4wMDQ1MjE0IgogICAgICAgb3JpZW50YXRpb249IjAsMSIKICAgICAgIGlkPSJndWlkZTM3OTciCiAgICAgICBpbmtzY2FwZTpsb2NrZWQ9ImZhbHNlIiAvPgogICAgPHNvZGlwb2RpOmd1aWRlCiAgICAgICBwb3NpdGlvbj0iNDguMDA4Mjg5LDIwLjk4MDY1OCIKICAgICAgIG9yaWVudGF0aW9uPSIxLDAiCiAgICAgICBpZD0iZ3VpZGUzNzk5IgogICAgICAgaW5rc2NhcGU6bG9ja2VkPSJmYWxzZSIgLz4KICA8L3NvZGlwb2RpOm5hbWVkdmlldz4KICA8bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGE1Ij4KICAgIDxyZGY6UkRGPgogICAgICA8Y2M6V29yawogICAgICAgICByZGY6YWJvdXQ9IiI+CiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+CiAgICAgICAgPGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPgogICAgICAgIDxkYzp0aXRsZT48L2RjOnRpdGxlPgogICAgICA8L2NjOldvcms+CiAgICA8L3JkZjpSREY+CiAgPC9tZXRhZGF0YT4KICA8ZwogICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiCiAgICAgaWQ9ImxheWVyMSIKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLC0yNDcpIj4KICAgIDxnCiAgICAgICB0cmFuc2Zvcm09Im1hdHJpeCgwLjM1Mjc3Nzc3LDAsMCwtMC4zNTI3Nzc3NywtNDIuNjY2NTI5LDI1My45ODQzOSkiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTWV0YXZpel9zeWduZXRfdMWCby1ixYLEmWtpdG5lX1JHQiIKICAgICAgIGlkPSJnMzcyMSI+CiAgICAgIDxnCiAgICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0MC40MTM5NSwtMzQuODY0MzQzKSIKICAgICAgICAgaWQ9ImczNzI1IgogICAgICAgICBzdHlsZT0iZmlsbDojMDA0Mzg4O2ZpbGwtb3BhY2l0eToxIj4KICAgICAgICA8cGF0aAogICAgICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICAgICAgaWQ9InBhdGgzNzI3IgogICAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDQzODg7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOm5vbnplcm87c3Ryb2tlOm5vbmUiCiAgICAgICAgICAgZD0iTSAwLDAgLTE2LjIsMTYuMjAyIC0zMi40MDQsMzIuNDA3IC0zMi40MDUsMzIuNDA1IC00OC42MDEsNDguNjA0IC02NC44MDYsMzIuNDA1IC02NC44MDgsMzIuNDA3IC04MS4wMDUsMTYuMjAyIC05Ny4yMTMsMCAtMTEzLjQxLC0xNi4yIC05Ny4yMTMsLTMyLjQgLTgxLjAwNSwtMTYuMiAtNjQuODA4LDAgLTQ4LjYwMSwtMTYuMjA0IC0zMi40MDQsMCAtMTYuMiwtMTYuMiAwLjAwMSwtMzIuNDA1IDE2LjIwNSwtMTYuMjA0IFoiIC8+CiAgICAgIDwvZz4KICAgICAgPGcKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjA4LjAwOTY1LC02Ny4yNjk1NDMpIgogICAgICAgICBpZD0iZzM3MjkiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDQzODg7ZmlsbC1vcGFjaXR5OjEiPgogICAgICAgIDxwYXRoCiAgICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgICBpZD0icGF0aDM3MzEiCiAgICAgICAgICAgc3R5bGU9ImZpbGw6IzAwNDM4ODtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6bm9uZSIKICAgICAgICAgICBkPSJNIDAsMCAtMTYuMTk3LC0xNi4yIC0zMi40MDMsMCAtNDguNjAxLC0xNi4yIC0zMi40MDMsLTMyLjQwNCAtMTYuMTk3LC00OC42MDQgMCwtMzIuNDA0IDE2LjIwNCwtMTYuMiBaIiAvPgogICAgICA8L2c+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K">

        <!-- App -->
        <link rel="stylesheet" type="text/css" href="style/metaviz.css">

        <!-- GUI -->
        <link rel="stylesheet" type="text/css" href="style/popup.css">
        <link rel="stylesheet" type="text/css" href="../total-pro-menu/menu.css">
        <link rel="stylesheet" type="text/css" href="../total-pro-menu/widgets/group.css">
        <link rel="stylesheet" type="text/css" href="../total-pro-menu/widgets/input.css">
        <link rel="stylesheet" type="text/css" href="../total-pro-menu/widgets/option.css">
        <link rel="stylesheet" type="text/css" href="../total-pro-menu/widgets/select.css">
        <link rel="stylesheet" type="text/css" href="../total-pro-menu/widgets/separator.css">
        <link rel="stylesheet" type="text/css" href="../total-pro-menu/widgets/submenu.css">
        <link rel="stylesheet" type="text/css" href="../total-pro-menu/widgets/switch.css">

        <!-- Links -->
        <link rel="stylesheet" type="text/css" href="links/bezier.css">
        <link rel="stylesheet" type="text/css" href="links/symlink.css">

        <!-- Nodes: Standard -->
        <link rel="stylesheet" type="text/css" href="nodes/node-dummy.css">
        <link rel="stylesheet" type="text/css" href="nodes/node-point.css">
        <link rel="stylesheet" type="text/css" href="nodes/node-label.css">
        <link rel="stylesheet" type="text/css" href="nodes/node-text.css">
        <link rel="stylesheet" type="text/css" href="nodes/node-clipart.css">
        <link rel="stylesheet" type="text/css" href="nodes/node-image.css">

        <!-- Custom Plugins -->
        <link rel="stylesheet" type="text/css" href="metaviz-plugins.css">

        <!-- Init -->
        <script type="text/javascript" src="utils/logging.js"></script>
        <script type="text/javascript" src="app/config.js"></script>
        <script type="text/javascript" src="app/metaviz.js"></script>
        <script type="text/javascript" src="editor/state.js"></script>
        <script type="text/javascript">
            let metaviz = null;
        </script>

    </head>
    <body>
        <!-- Main diagram window -->
        <div id="metaviz-diagram" class="metaviz-diagram"></div>

        <!-- Spinner svg logo -->
        <div id="metaviz-spinner" style="fill-opacity: 1; fill-rule: nonzero; stroke: none">
            <svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 50 50" height="64" width="64">
                <g transform="translate(0,-247)">
                    <g transform="matrix(0.35277777,0,0,-0.35277777,-42.666529,253.98439)">
                        <g style="fill: var(--metaviz-logo-save);" transform="translate(240.41395,-34.864343)">
                            <path d="M 0,0 -16.2,16.202 -32.404,32.407 -32.405,32.405 -48.601,48.604 -64.806,32.405 -64.808,32.407 -81.005,16.202 -97.213,0 -113.41,-16.2 -97.213,-32.4 -81.005,-16.2 -64.808,0 -48.601,-16.204 -32.404,0 -16.2,-16.2 0.001,-32.405 16.205,-16.204 Z"/>
                        </g>
                        <g style="fill: var(--metaviz-logo-save);" transform="translate(208.00965,-67.269543)">
                            <path d="M 0,0 -16.197,-16.2 -32.403,0 -48.601,-16.2 -32.403,-32.404 -16.197,-48.604 0,-32.404 16.204,-16.2 Z"/>
                        </g>
                    </g>
                </g>
            </svg>
        </div>

        <!-- Translations -->
        <script type="text/javascript" src="app/i18n.js"></script>

        <!-- Utils -->
        <script type="text/javascript" src="utils/jsext.js"></script>
        <script type="text/javascript" src="utils/events.js"></script>

        <!-- GUI -->
        <script type="text/javascript" src="../total-text/render.js"></script>
        <script type="text/javascript" src="controls/base.js"></script>
        <script type="text/javascript" src="controls/badge.js"></script>
        <script type="text/javascript" src="controls/bitmap.js"></script>
        <script type="text/javascript" src="controls/button.js"></script>
        <script type="text/javascript" src="controls/icon.js"></script>
        <script type="text/javascript" src="controls/input.js"></script>
        <script type="text/javascript" src="controls/label.js"></script>
        <script type="text/javascript" src="controls/spinner.js"></script>
        <script type="text/javascript" src="controls/link.js"></script>
        <script type="text/javascript" src="controls/select.js"></script>
        <script type="text/javascript" src="controls/slider.js"></script>
        <script type="text/javascript" src="controls/richtext.js"></script>
        <script type="text/javascript" src="../total-pro-menu/widget.js"></script>
        <script type="text/javascript" src="../total-pro-menu/menu.js"></script>
        <script type="text/javascript" src="../total-pro-menu/widgets/group.js"></script>
        <script type="text/javascript" src="../total-pro-menu/widgets/input.js"></script>
        <script type="text/javascript" src="../total-pro-menu/widgets/option.js"></script>
        <script type="text/javascript" src="../total-pro-menu/widgets/panel.js"></script>
        <script type="text/javascript" src="../total-pro-menu/widgets/select.js"></script>
        <script type="text/javascript" src="../total-pro-menu/widgets/separator.js"></script>
        <script type="text/javascript" src="../total-pro-menu/widgets/submenu.js"></script>
        <script type="text/javascript" src="../total-pro-menu/widgets/switch.js"></script>
        <script type="text/javascript" src="arrange/geometry.js"></script>
        <script type="text/javascript" src="arrange/sort.js"></script>
        <script type="text/javascript" src="arrange/align.js"></script>
        <script type="text/javascript" src="../total-popup/tabs.js"></script>
        <script type="text/javascript" src="../total-popup/window.js"></script>

        <!-- Render -->
        <script type="text/javascript" src="../total-diagram/gremlin.js"></script>
        <script type="text/javascript" src="../total-diagram/render-node.js"></script>
        <script type="text/javascript" src="../total-diagram/render-link.js"></script>
        <script type="text/javascript" src="../total-diagram/manager-nodes.js"></script>
        <script type="text/javascript" src="../total-diagram/manager-links.js"></script>
        <script type="text/javascript" src="../total-diagram/render.js"></script>

        <!-- Themes -->
        <script type="text/javascript" src="themes/iron.js"></script>
        <script type="text/javascript" src="themes/covellite.js"></script>
        <script type="text/javascript" src="themes/studio.js"></script>

        <!-- Editor -->
        <script type="text/javascript" src="editor/pipeline.js"></script>
        <script type="text/javascript" src="editor/exchange.js"></script>
        <script type="text/javascript" src="editor/history.js"></script>
        <script type="text/javascript" src="editor/render-link.js"></script>
        <script type="text/javascript" src="editor/manager-links.js"></script>
        <script type="text/javascript" src="editor/socket.js"></script>
        <script type="text/javascript" src="editor/render-node.js"></script>
        <script type="text/javascript" src="editor/manager-nodes.js"></script>
        <script type="text/javascript" src="editor/navigator.js"></script>
        <script type="text/javascript" src="editor/cage.js"></script>
        <script type="text/javascript" src="editor/keyboard.js"></script>
        <script type="text/javascript" src="editor/pointer.js"></script>
        <script type="text/javascript" src="editor/menu.js"></script>
        <script type="text/javascript" src="editor/selection.js"></script>
        <script type="text/javascript" src="editor/clipboard.js"></script>
        <script type="text/javascript" src="editor/editor.js"></script>

        <!-- Links -->
        <script type="text/javascript" src="links/bezier.js"></script>
        <script type="text/javascript" src="links/symlink.js"></script>

        <!-- Data -->
        <script type="text/javascript" src="format/format.js"></script>
        <script type="text/javascript" src="format/stack/data-in.js"></script>
        <script type="text/javascript" src="format/stack/data-out.js"></script>
        <script type="text/javascript" src="format/json/data-in.js"></script>
        <script type="text/javascript" src="format/json/data-out.js"></script>
        <script type="text/javascript" src="format/svg/data-out.js"></script>
        <script type="text/javascript" src="storage/filesystem/data-in-out.js"></script>
        <script type="text/javascript" src="storage/indexeddb/data-in-out.js"></script>

        <!-- Nodes: Standard -->
        <script type="text/javascript" src="nodes/node-dummy.js"></script>
        <script type="text/javascript" src="nodes/node-point.js"></script>
        <script type="text/javascript" src="nodes/node-label.js"></script>
        <script type="text/javascript" src="nodes/node-text.js"></script>
        <script type="text/javascript" src="nodes/node-clipart.js"></script>
        <script type="text/javascript" src="nodes/node-image.js"></script>

        <!-- Custom Plugins -->
        <script type="text/javascript" src="metaviz-plugins.js"></script>

        <!-- START -->
        <script type="text/javascript">
            window.addEventListener('load', function() {
                metaviz = new Metaviz();
                global.cache['MetavizNodeImage'] = {
                    formats: ['image/jpeg', 'image/png', 'image/apng', 'image/gif', 'image/webp', 'image/x-icon', 'image/svg+xml'],
                    extensions: ['jpg', 'jpeg', 'png', 'apng', 'gif', 'webp', 'ico', 'svg'],
                    miniatures: ['image/jpeg', 'image/png'],
                    minWidth: 512
                };
                global.cache['MetavizNodeFile'] = {
                    maxSize: 32 * 1024 * 1024 // 32 MB (max dropped image file size)
                };
                if (metaviz.compatibilityTest()) {
                    metaviz.init('metaviz-diagram', 'metaviz-spinner');
                    metaviz.start();
                }
                else {
                    alert(_('Unsupported browser version'));
                }
            });
        </script>

    </body>
</html>
